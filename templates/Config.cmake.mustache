# Auto-generated by mimi-pkg. Do not edit by hand.
# Package: {{packageName}} Version: {{version}} Namespace: {{namespace}}

# Compute bundle roots relative to this file so the package is relocatable.
get_filename_component(_{{packageVar}}_cmakedir "${CMAKE_CURRENT_LIST_FILE}" PATH)
get_filename_component(_{{packageVar}}_root "${_{{packageVar}}_cmakedir}/.." ABSOLUTE)
set(_{{packageVar}}_includedir "${_{{packageVar}}_root}/include")
set(_{{packageVar}}_libdir     "${_{{packageVar}}_root}/libs")
set(_{{packageVar}}_bindir     "${_{{packageVar}}_root}/bins")

# Exported include dirs (package-level)
set({{packageName}}_INCLUDE_DIRS "${_{{packageVar}}_includedir}"{{#extraIncludeDirs}} "{{.}}"{{/extraIncludeDirs}})
set({{packageName}}_LIB_DIR      "${_{{packageVar}}_libdir}")
set({{packageName}}_BIN_DIR      "${_{{packageVar}}_bindir}")

{{#libs}}
################################################################################
# Target: {{targetName}} ({{type}})
################################################################################

set(TARGET_NAME {{targetName}})

add_library(${TARGET_NAME} {{type}} IMPORTED GLOBAL)

# Common interface includes
set_property(TARGET ${TARGET_NAME} PROPERTY
  INTERFACE_INCLUDE_DIRECTORIES
    "${_{{packageVar}}_includedir}"{{#includeDirs}}
    "{{.}}"{{/includeDirs}}
)

{{#locations.DEBUG}}
# Debug config
set_property(TARGET ${TARGET_NAME} PROPERTY IMPORTED_CONFIGURATIONS DEBUG)
{{/locations.DEBUG}}
{{#locations.RELEASE}}
# Release config
set_property(TARGET ${TARGET_NAME} APPEND PROPERTY IMPORTED_CONFIGURATIONS RELEASE)
{{/locations.RELEASE}}
{{#locations.SINGLE}}
# Single config
set_property(TARGET ${TARGET_NAME} PROPERTY
  IMPORTED_LOCATION
    "${_{{packageVar}}_libdir}/{{{locations.SINGLE.binary}}}"
)
{{#locations.SINGLE.implib}}
set_property(TARGET ${TARGET_NAME} PROPERTY
  IMPORTED_IMPLIB
    "${_{{packageVar}}_libdir}/{{{locations.SINGLE.implib}}}"
)
{{/locations.SINGLE.implib}}
{{/locations.SINGLE}}
{{#locations.DEBUG}}
{{#locations.DEBUG.binary}}
set_property(TARGET ${TARGET_NAME} PROPERTY
  IMPORTED_LOCATION_DEBUG
    "${_{{packageVar}}_libdir}/{{{locations.DEBUG.binary}}}"
)
{{/locations.DEBUG.binary}}
{{#locations.DEBUG.implib}}
set_property(TARGET ${TARGET_NAME} PROPERTY
  IMPORTED_IMPLIB_DEBUG
    "${_{{packageVar}}_libdir}/{{{locations.DEBUG.implib}}}"
)
{{/locations.DEBUG.implib}}
{{/locations.DEBUG}}
{{#locations.RELEASE}}
{{#locations.RELEASE.binary}}
set_property(TARGET ${TARGET_NAME} PROPERTY
  IMPORTED_LOCATION_RELEASE
    "${_{{packageVar}}_libdir}/{{{locations.RELEASE.binary}}}"
)
{{/locations.RELEASE.binary}}
{{#locations.RELEASE.implib}}
set_property(TARGET ${TARGET_NAME} PROPERTY
  IMPORTED_IMPLIB_RELEASE
    "${_{{packageVar}}_libdir}/{{{locations.RELEASE.implib}}}"
)
{{/locations.RELEASE.implib}}
{{/locations.RELEASE}}
{{#linkLibraries.length}}
# Transitive link interface
set_property(TARGET ${TARGET_NAME} PROPERTY
  INTERFACE_LINK_LIBRARIES
    {{#linkLibraries}}{{{.}}}{{/linkLibraries}}
)
{{/linkLibraries.length}}
{{#compileDefinitions.length}}
# Optional compile defs / opts
set_property(TARGET ${TARGET_NAME} PROPERTY
  INTERFACE_COMPILE_DEFINITIONS {{#compileDefinitions}}{{.}};{{/compileDefinitions}}
)
{{/compileDefinitions.length}}
{{#compileOptions.length}}
set_property(TARGET ${TARGET_NAME} PROPERTY
  INTERFACE_COMPILE_OPTIONS {{#compileOptions}}{{.}};{{/compileOptions}}
)
{{/compileOptions.length}}
{{/libs}}

################################################################################
# Back-compat variables for simple consumers
################################################################################
set({{packageName}}_FOUND TRUE)

################################################################################
# Tidy
################################################################################
unset(TARGET_NAME)
unset(_{{packageVar}}_cmakedir)
unset(_{{packageVar}}_root)
unset(_{{packageVar}}_includedir)
unset(_{{packageVar}}_libdir)
unset(_{{packageVar}}_bindir)